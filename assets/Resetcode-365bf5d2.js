import{_ as S,a1 as K,u as R,a8 as q,a0 as C,r as b,a as v,b as u,c as m,F as c,d as t,t as a,a2 as l,w as f,ab as y,p as B,k as M,cl as P,cq as H,a3 as N,a4 as U}from"./index-c90bc775.js";import{a as z,E as A}from"./el-form-item-091f8ed7.js";/* empty css                 */import"./castArray-2def1d6a.js";import"./_initCloneObject-d01ac546.js";const D=n=>(B("data-v-a05bd910"),n=n(),M(),n),L=D(()=>t("div",{class:"logo"},[t("img",{src:P,alt:""})],-1)),Z={class:"restext"},j={class:"greet"},x={class:"center"},G={style:{color:"#ffffff"},href:"/auth/signup"},J={__name:"Resetcode",setup(n){K();const V=R(),_=q(),{t:i,locale:O}=C(),w=b(0),s=v({username:"",password:""}),$=(e,o,r)=>{o!==s.password?r(new Error(i("reset.confirmpwVerify1"))):r()},k=v({password:[{required:!0,message:i("reset.passwordVerify1"),trigger:"blur"},{pattern:/^.{6,}$/,message:i("reset.passwordVerify2"),trigger:"blur"},{pattern:/^([A-Za-z\d]|[`\-=[\]\\;,./~!@#$%^&*()_+{}|:"<>?])+$/,message:"请输入英文字母、数字或英文符号",trigger:"blur"}],confirmpw:[{required:!0,message:i("reset.passwordVerify1"),trigger:"blur"},{validator:$,trigger:"blur"}]}),g=b(),p=()=>{g.value.validate(e=>{e&&E()})},E=()=>{H({new_password1:s.password,new_password2:s.confirmpw,token:_.params.token,uid:_.params.uid}).then(e=>{w.value=1,N.success(e.detail)})},F=()=>{V.push("/auth/login")};return(e,o)=>{const r=U,h=A,I=z;return u(),m(c,null,[L,w.value===1?(u(),m(c,{key:0},[t("div",Z,a(e.$t("reset.restext")),1),t("div",{class:"auth-submit-btn",onClick:F},a(e.$t("reset.login")),1)],64)):(u(),m(c,{key:1},[t("div",j,a(e.$t("greeting")),1),l(I,{ref_key:"inputForm",ref:g,model:s,rules:k,class:"auth-form","label-position":"top","validate-on-rule-change":!1,"require-asterisk-position":"right"},{default:f(()=>[l(h,{label:e.$t("reset.setpw"),prop:"password"},{default:f(()=>[l(r,{class:"input-item",type:"password",modelValue:s.password,"onUpdate:modelValue":o[0]||(o[0]=d=>s.password=d),modelModifiers:{trim:!0},placeholder:e.$t("reset.passwordPH"),onKeypress:y(p,["enter"]),maxlength:"128","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),l(h,{label:e.$t("reset.confirmpw"),prop:"confirmpw"},{default:f(()=>[l(r,{class:"input-item",type:"password",modelValue:s.confirmpw,"onUpdate:modelValue":o[1]||(o[1]=d=>s.confirmpw=d),modelModifiers:{trim:!0},placeholder:e.$t("reset.confirmpwPH"),onKeypress:y(p,["enter"]),maxlength:"128","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),t("div",{class:"auth-submit-btn",onClick:p},a(e.$t("reset.submit")),1)]),_:1},8,["model","rules"]),t("div",x,[t("a",G,a(e.$t("reset.goSingup")),1)])],64))],64)}}},ee=S(J,[["__scopeId","data-v-a05bd910"]]);export{ee as default};
